---
layout: post
title:  "spark问与答"
author: "marcelyz"
---

之前用spark都是在已有代码上做一些修改，没有系统的认识，在此对spark常见的api及问题做一个梳理。

## 常见api

### sql相关
- row_number().over(Window)<br/>
答：

- 常见窗口函数<br/>
答：

### ml相关
- spark.ml常见算子<br/>
答：

## 常见问题
### 概念相关
- RDD、Dataframe、Dataset的区别是什么<br/>
答：

- spark任务的提交过程，driver端如何创建dag，dag scheduler的作用，如何分发任务到executor，master和driver的区别<br/>
答：

- 宽窄依赖<br/>
答：

- spark的内存模型，executor的内存划分<br/>
答：

- Spark Shuffle几种实现方式<br/>
答：

- hive中lzo和orc两种存储格式区别<br/>
答：

- hive内部表外部表区别<br/>
答：

- spark/flink流计算中的Exactly-once语义保证<br/>
答：


### 算子相关
- reduceByKey和groupByKey的区别<br/>
答：

- map、flatMap、mapPartitions、mapGroups的区别
答：

- groupBy、groupByKey的区别<br/>
答：

- join、joinWith的区别<br/>
答：

- transform、transformWith的区别<br/>
答：

- persisit、cache的区别<br/>
答：

- HashPartitioner和RangePartitioner的区别，如何自定义partitioner，partitionBy、repartition、coalesce的区别<br/>
答：


### 原理相关
- spark join是怎么实现的(sort merge join、broadcast join、hash join)<br/>
答：

- 数据倾斜出现的原因(groupBy倾斜、join倾斜)和对应处理方案<br/>
答：

